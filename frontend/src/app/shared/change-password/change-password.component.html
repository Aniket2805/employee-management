<div class="change-password-container">
    <h2 class="title">Change Password</h2>
    <form [formGroup]="form" (ngSubmit)="submit()" class="change-password-form">
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" formControlName="email" placeholder="Enter your email" />
            <div class="error" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
                Valid email is required
            </div>
        </div>
        <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <input id="currentPassword" type="password" formControlName="currentPassword"
                placeholder="Current password" />
            <div class="error" *ngIf="form.get('currentPassword')?.invalid && form.get('currentPassword')?.touched">
                Current password is required
            </div>
        </div>
        <div class="form-group">
            <label for="newPassword">New Password</label>
            <input id="newPassword" type="password" formControlName="newPassword" placeholder="New password" />
            <div class="error" *ngIf="form.get('newPassword')?.invalid && form.get('newPassword')?.touched">
                New password (min 6 chars) is required
            </div>
        </div>
        <button type="submit" [disabled]="form.invalid || loading" class="submit-btn">
            <span *ngIf="!loading">Change Password</span>
            <span *ngIf="loading"><i class="fa-solid fa-spinner fa-spin"></i> Changing...</span>
        </button>
    </form>
</div>